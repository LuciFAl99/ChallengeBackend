<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css"
        integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link rel="stylesheet" href="./css/style.css">
    <title>Document</title>
</head>

<body>
    <main id="app">
        <nav class="navbar navbar-light bg-light d-flex justify-content-between">
            <div>
				<img src="./img/logo.jpg" alt="logo" class="logo">
			</div>
            <ul class="navbar-nav d-inline">
              <li class="nav-item">
                <a href="#" class="nav-link d-inline-block" style="margin-right: 10px;">Inicio</a>
                <a href="./fichaProfesor.html" class="nav-link d-inline-block" style="margin-right: 10px;">Ficha Profesor</a>
                <a href="#" @click="logout" style="margin-right: 10px;">Cerrar Sesión</a>
              </li>
            </ul>
          </nav>     
          <h1 style="text-align: center;" class="mb-4">Bienvenido/a {{profesor.nombre}} {{profesor.apellido}}</h1>
          <h2 style="text-align: center;">Cursos dictados</h2>
        <div class="container">
            <div class="card-group">
                <div class="col-md-4" v-for="curso in profesor.cursos" :key="curso.id">
                    <div class="card h-100 mb-4">
                        <img :src="curso.imagen" alt="Imagen del curso" class="card-img-top img-fluid">
                        <div class="card-body">
                            <h5 class="card-title">{{ curso.nombreCurso }}</h5>
                            <p class="card-text">{{ curso.descripcion }}</p>
                            <p class="card-text">Horario:
                                <span v-if="curso.horario === 'MANANA'">Mañana</span>
                                <span v-if="curso.horario === 'NOCHE'">Noche</span>
                                <span v-if="curso.horario === 'TARDE'">Tarde</span>
                            </p>
                            <p class="card-text">Categoría: {{ curso.categoria }}</p>
                            <p>Fecha de inicio: {{ new Date(curso.fechaInicio).toLocaleDateString('es-ES') }}</p>
                            <p>Fecha de fin: {{ new Date(curso.fechaFin).toLocaleDateString('es-ES') }}</p>
                            <p class="card-text">Cupos: {{ curso.cupos }}</p>
                            <p>¿Presencial o remoto?: {{ curso.presencial ? 'Presencial' : 'Remoto' }}</p>
                        </div>
                        <div class="card-footer d-grid g-3 d-flex justify-content-center">
                            <button class="btn btn-primary" data-bs-toggle="modal"
                                :data-bs-target="'#materiasModal-' + curso.id">Ver Materias</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <div v-for="curso in profesor.cursos" :key="curso.id">
            <div class="modal fade" :id="'materiasModal-' + curso.id" tabindex="-1"
              :aria-labelledby="'materiasModalLabel-' + curso.id" aria-hidden="true">
              <div class="modal-dialog">
                <div class="modal-content">
                  <div class="modal-header">
                    <h5 class="modal-title" :id="'materiasModalLabel-' + curso.id">Materias del Curso - {{ curso.nombreCurso
                      }}</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                  </div>
                  <div class="modal-body">
                    <ul>
                      <li v-for="materia in curso.materias" :key="materia.id">{{ materia }}</li>
                    </ul>
                  </div>
                </div>
              </div>
            </div>
          </div>
    </main>
    <script src="https://unpkg.com/vue@3.2.26/dist/vue.global.js"></script>
    <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
    <script src="//cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"></script>
    <script src="./js/profesor.js"></script>
</body>

</html>